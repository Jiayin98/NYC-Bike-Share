<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Bike Users’ route pattern(How people use it as the commute tool) | NYC-Citibike</title>
  <meta name="description" content="Chapter 10 Bike Users’ route pattern(How people use it as the commute tool) | NYC-Citibike" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Bike Users’ route pattern(How people use it as the commute tool) | NYC-Citibike" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Bike Users’ route pattern(How people use it as the commute tool) | NYC-Citibike" />
  
  
  

<meta name="author" content="Xiaonan Guo(xg2308), Gaoyi Shi (g32012), Kenny Jin (jj3134), Jiayin Lin (jl5802)" />


<meta name="date" content="2020-12-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="temerature-affects-on-the-bike-usage.html"/>
<link rel="next" href="place-a-holder-for-5-7.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NYC-citibike</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#destfilecusersxiaonandesktopfall-20205702final-projectfinal_project_5702201502.zip"><i class="fa fa-check"></i><b>2.1</b> destfile=“C:/Users/Xiaonan/Desktop/Fall 2020/5702/Final Project/final_project_5702/201502.zip”)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#variable-outliers"><i class="fa fa-check"></i><b>3.1</b> Variable outliers</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#missing-values-by-column-and-row"><i class="fa fa-check"></i><b>4.1</b> Missing values by Column and Row</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#missing-pattern-by-year-and-month"><i class="fa fa-check"></i><b>4.2</b> Missing pattern by Year and Month</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#dealing-with-missing-values"><i class="fa fa-check"></i><b>4.3</b> Dealing with missing values</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="the-membership-analysis-age-gender-annual-memberships-or-subscriber.html"><a href="the-membership-analysis-age-gender-annual-memberships-or-subscriber.html"><i class="fa fa-check"></i><b>6</b> The Membership analysis (Age, Gender, Annual memberships or Subscriber)</a></li>
<li class="chapter" data-level="7" data-path="time-series-on-bike-usage-2018-2020.html"><a href="time-series-on-bike-usage-2018-2020.html"><i class="fa fa-check"></i><b>7</b> Time Series on Bike Usage (2018 -2020)</a></li>
<li class="chapter" data-level="8" data-path="weekdayweekend-usage.html"><a href="weekdayweekend-usage.html"><i class="fa fa-check"></i><b>8</b> Weekday/Weekend Usage</a></li>
<li class="chapter" data-level="9" data-path="temerature-affects-on-the-bike-usage.html"><a href="temerature-affects-on-the-bike-usage.html"><i class="fa fa-check"></i><b>9</b> Temerature affects on the Bike usage</a></li>
<li class="chapter" data-level="10" data-path="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html"><i class="fa fa-check"></i><b>10</b> Bike Users’ route pattern(How people use it as the commute tool)</a></li>
<li class="chapter" data-level="11" data-path="place-a-holder-for-5-7.html"><a href="place-a-holder-for-5-7.html"><i class="fa fa-check"></i><b>11</b> place a holder for 5.7</a></li>
<li class="chapter" data-level="12" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>12</b> Interactive component</a></li>
<li class="chapter" data-level="13" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>13</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NYC-Citibike</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bike-users-route-patternhow-people-use-it-as-the-commute-tool" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Bike Users’ route pattern(How people use it as the commute tool)</h1>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-1"></a><span class="co">#install this library if you do not have it</span></span>
<span id="cb11-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-2"></a><span class="co">#if(!require(devtools)) install.packages(&quot;devtools&quot;)</span></span>
<span id="cb11-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-3"></a><span class="co">#devtools::install_github(&quot;kassambara/ggpubr&quot;)</span></span>
<span id="cb11-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-4"></a></span>
<span id="cb11-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-5"></a><span class="co">#install.packages(&quot;ggpubr&quot;)</span></span>
<span id="cb11-6"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-6"></a></span>
<span id="cb11-7"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-7"></a></span>
<span id="cb11-8"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-8"></a></span>
<span id="cb11-9"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb11-9"></a><span class="co">####install package for ploting graphs in one figure</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>First, we took the data from Citibike official website, there are station location which can be mapped to different counties, we picked all the stations in Manhattan, Queens, Brooklyn as our main target to analyze the route pattern for riders. There are over 1.6 Millions residents in Manhattan, we can see 8 am - 10 am and 5 pm - 7pm are the peak hours for bike usages, average bike trips are over 100K times.It shows there are around 10% of Manhattan residents are using Citibike for their commute.2018 and 2019 has the same pattern, but 2018 the trip numbers drops to around 50K in morning rush hours, this is largely caused by COVID -19 pandemic, which companies require employee to work from home and the city implement lock down policy starts from end of March 2020 to July 2020.
Majority of bike trips happen within the Manhattan, we want to analyze the cross-borough bike usage, we need to drop the Manhattan trips and analyze the Manhattan to Queens and Manhattan to Brooklyn trips, which will display in the next plot.</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb12-1"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb12-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb12-2"></a><span class="kw">library</span>(ggpubr)</span>
<span id="cb12-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb12-3"></a></span>
<span id="cb12-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb12-4"></a><span class="co">#use the above code to install ggpubr if you do not have it</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-1"></a><span class="co">##change directory</span></span>
<span id="cb13-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-2"></a><span class="co">##read data files</span></span>
<span id="cb13-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-3"></a></span>
<span id="cb13-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-4"></a></span>
<span id="cb13-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-5"></a></span>
<span id="cb13-6"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-6"></a>df_<span class="dv">2018</span> =<span class="kw">read.csv</span>(<span class="st">&#39;rendered_data/borough_trips_201806.csv&#39;</span>,<span class="dt">sep =</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb13-7"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-7"></a></span>
<span id="cb13-8"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-8"></a>df_<span class="dv">2019</span> =<span class="kw">read.csv</span>(<span class="st">&#39;rendered_data/borough_trips_201906.csv&#39;</span>,<span class="dt">sep =</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb13-9"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-9"></a></span>
<span id="cb13-10"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb13-10"></a>df_<span class="dv">2020</span> =<span class="kw">read.csv</span>(<span class="st">&#39;rendered_data/borough_trips_202006.csv&#39;</span>,<span class="dt">sep =</span><span class="st">&#39;,&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-1"></a><span class="co">###Mahanttan data</span></span>
<span id="cb14-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-2"></a></span>
<span id="cb14-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-3"></a>man_<span class="dv">2018</span> =df_<span class="dv">2018</span>[df_<span class="dv">2018</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Manhattan&quot;</span>, ]</span>
<span id="cb14-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-4"></a></span>
<span id="cb14-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-5"></a>man_<span class="dv">2018</span>_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> man_<span class="dv">2018</span>, </span>
<span id="cb14-6"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-6"></a>                        <span class="kw">aes</span>(<span class="dt">x=</span>hour,</span>
<span id="cb14-7"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-7"></a>                        <span class="dt">y=</span>total_num_trips<span class="op">/</span><span class="dv">1000</span>, </span>
<span id="cb14-8"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-8"></a>                        <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb14-9"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-9"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb14-10"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-10"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2018 NYC Citi Bike Trips in Manhattan &quot;</span>, </span>
<span id="cb14-11"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-11"></a>          <span class="st">&quot;Based on Citi Bike system data, 2018-06-01 to 2018-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb14-12"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-12"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot;&quot;</span>)<span class="op">+</span></span>
<span id="cb14-13"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-13"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb14-14"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-14"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>))</span>
<span id="cb14-15"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-15"></a></span>
<span id="cb14-16"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-16"></a><span class="co">###2019</span></span>
<span id="cb14-17"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-17"></a>man_<span class="dv">2019</span> =df_<span class="dv">2019</span>[df_<span class="dv">2019</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Manhattan&quot;</span>, ]</span>
<span id="cb14-18"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-18"></a></span>
<span id="cb14-19"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-19"></a>man_<span class="dv">2019</span>_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> man_<span class="dv">2019</span>, </span>
<span id="cb14-20"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-20"></a>                        <span class="kw">aes</span>(<span class="dt">x=</span>hour,</span>
<span id="cb14-21"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-21"></a>                            <span class="dt">y =</span>total_num_trips<span class="op">/</span><span class="dv">1000</span>, </span>
<span id="cb14-22"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-22"></a>                            <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb14-23"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-23"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb14-24"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-24"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2019 NYC Citi Bike Trips in Manhattan &quot;</span>, </span>
<span id="cb14-25"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-25"></a>          <span class="st">&quot;Based on Citi Bike system data,  2019-06-01 to 2019-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb14-26"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-26"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot;Average Hourly Citi Bike trips(Thousands)&quot;</span>)<span class="op">+</span></span>
<span id="cb14-27"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-27"></a><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">150</span>))<span class="op">+</span></span>
<span id="cb14-28"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-28"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb14-29"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-29"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>),</span>
<span id="cb14-30"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-30"></a>        <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">9</span>))</span>
<span id="cb14-31"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-31"></a>   </span>
<span id="cb14-32"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-32"></a></span>
<span id="cb14-33"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-33"></a></span>
<span id="cb14-34"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-34"></a><span class="co">###2020</span></span>
<span id="cb14-35"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-35"></a>man_<span class="dv">2020</span> =df_<span class="dv">2020</span>[df_<span class="dv">2020</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Manhattan&quot;</span>, ]</span>
<span id="cb14-36"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-36"></a></span>
<span id="cb14-37"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-37"></a>man_<span class="dv">2020</span>&lt;-<span class="kw">as.data.frame</span>(man_<span class="dv">2020</span>)</span>
<span id="cb14-38"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-38"></a></span>
<span id="cb14-39"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-39"></a>man_<span class="dv">2020</span>_plot &lt;-<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> man_<span class="dv">2020</span>, </span>
<span id="cb14-40"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-40"></a>                         <span class="kw">aes</span>(<span class="dt">x=</span>hour,</span>
<span id="cb14-41"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-41"></a>                             <span class="dt">y =</span>total_num_trips<span class="op">/</span><span class="dv">1000</span>, </span>
<span id="cb14-42"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-42"></a>                             <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb14-43"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-43"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">150</span>))<span class="op">+</span></span>
<span id="cb14-44"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-44"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2020 NYC Citi Bike Trips in Manhattan &quot;</span>, </span>
<span id="cb14-45"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-45"></a>          <span class="st">&quot;Based on Citi Bike system data,  2020-06-01 to 2020-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb14-46"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-46"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot;&quot;</span>)<span class="op">+</span></span>
<span id="cb14-47"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-47"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">9</span>)<span class="op">+</span></span>
<span id="cb14-48"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb14-48"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb15-1"></a><span class="kw">ggarrange</span>(man_<span class="dv">2018</span>_plot, man_<span class="dv">2019</span>_plot, man_<span class="dv">2020</span>_plot, </span>
<span id="cb15-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb15-2"></a>          <span class="dt">label.y =</span> <span class="dv">1</span>,</span>
<span id="cb15-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb15-3"></a>          <span class="dt">align=</span><span class="st">&#39;hv&#39;</span>,</span>
<span id="cb15-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb15-4"></a>          <span class="co">#common.legend = TRUE,</span></span>
<span id="cb15-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb15-5"></a>          <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-25-1.png" width="864" /></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-1"></a><span class="co">##Manhattan to Outers</span></span>
<span id="cb16-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-2"></a></span>
<span id="cb16-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-3"></a>man_outer_<span class="dv">2018</span> =df_<span class="dv">2018</span>[df_<span class="dv">2018</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Manhattan&quot;</span> <span class="op">&amp;</span><span class="st"> </span>df_<span class="dv">2018</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&quot;Manhattan&quot;</span>, ]</span>
<span id="cb16-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-4"></a></span>
<span id="cb16-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-5"></a>man_outer_<span class="dv">2018</span>_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> man_outer_<span class="dv">2018</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb16-6"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-6"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb16-7"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-7"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2018 NYC Citi Bike Trips from Manhattan to outers &quot;</span>, </span>
<span id="cb16-8"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-8"></a>          <span class="st">&quot;Based on Citi Bike system data,  2018-06-01 to 2018-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb16-9"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-9"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot; &quot;</span>)<span class="op">+</span></span>
<span id="cb16-10"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-10"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb16-11"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-11"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>))</span>
<span id="cb16-12"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-12"></a></span>
<span id="cb16-13"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-13"></a><span class="co">## 2019</span></span>
<span id="cb16-14"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-14"></a></span>
<span id="cb16-15"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-15"></a>man_outer_<span class="dv">2019</span> =df_<span class="dv">2019</span>[df_<span class="dv">2019</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Manhattan&quot;</span> <span class="op">&amp;</span>df_<span class="dv">2019</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&#39;Manhattan&#39;</span>, ]</span>
<span id="cb16-16"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-16"></a></span>
<span id="cb16-17"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-17"></a>man_outer_<span class="dv">2019</span>_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> man_outer_<span class="dv">2019</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb16-18"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-18"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb16-19"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-19"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2019 NYC Citi Bike Trips from Manhattan to outers &quot;</span>, </span>
<span id="cb16-20"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-20"></a>          <span class="st">&quot;Based on Citi Bike system data,  2019-06-01 to 2019-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb16-21"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-21"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot;Average Hourly Citi Bike trips&quot;</span>)<span class="op">+</span></span>
<span id="cb16-22"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-22"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb16-23"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-23"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>),</span>
<span id="cb16-24"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-24"></a>        <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">9</span>))</span>
<span id="cb16-25"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-25"></a></span>
<span id="cb16-26"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-26"></a><span class="co">##2020</span></span>
<span id="cb16-27"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-27"></a></span>
<span id="cb16-28"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-28"></a>man_outer_<span class="dv">2020</span> =df_<span class="dv">2020</span>[df_<span class="dv">2020</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Manhattan&quot;</span><span class="op">&amp;</span>df_<span class="dv">2020</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&#39;Manhattan&#39;</span>, ]</span>
<span id="cb16-29"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-29"></a></span>
<span id="cb16-30"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-30"></a>man_outer_<span class="dv">2020</span> &lt;-<span class="kw">as.data.frame</span>(man_outer_<span class="dv">2020</span>)</span>
<span id="cb16-31"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-31"></a></span>
<span id="cb16-32"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-32"></a>man_outer_<span class="dv">2020</span>_plot &lt;-<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> man_outer_<span class="dv">2020</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb16-33"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-33"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">7000</span>))<span class="op">+</span></span>
<span id="cb16-34"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-34"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2020 NYC Citi Bike Trips from Manhattan to outers &quot;</span>, </span>
<span id="cb16-35"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-35"></a>          <span class="st">&quot;Based on Citi Bike system data,  2020-06-01 to 2020-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb16-36"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-36"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot; &quot;</span>)<span class="op">+</span></span>
<span id="cb16-37"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-37"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb16-38"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb16-38"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>))</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Manhattan to Outers
From the pattern we can see, in the morning few people will take the bikes but in the afternoon, there are average 6K trips each day. People tend to take other transformations for going to queens and Brooklyn and coming back to Manhattan with bikes.
One interesting point is the morning bike usage doubled in 2020, the average bike usage around 10AM is 1k in both 2018 and 2019 but it is 2K in 2020. This can be implied that people try to take social distance and avoid taking subway or bus for their commute and choose to ride bikes instead.</li>
</ol>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb17-1"></a><span class="co">##Manhattan to outers</span></span>
<span id="cb17-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb17-2"></a><span class="kw">ggarrange</span>(man_outer_<span class="dv">2018</span>_plot, man_outer_<span class="dv">2019</span>_plot, man_outer_<span class="dv">2020</span>_plot, </span>
<span id="cb17-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb17-3"></a>          <span class="dt">label.y =</span> <span class="dv">1</span>,</span>
<span id="cb17-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb17-4"></a>          <span class="dt">align=</span><span class="st">&#39;hv&#39;</span>,</span>
<span id="cb17-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb17-5"></a>          <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-27-1.png" width="864" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-1"></a><span class="co">####Queens to outer</span></span>
<span id="cb18-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-2"></a></span>
<span id="cb18-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-3"></a><span class="co">###2018</span></span>
<span id="cb18-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-4"></a></span>
<span id="cb18-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-5"></a>qn_outer_<span class="dv">2018</span> =df_<span class="dv">2018</span>[df_<span class="dv">2018</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Queens&quot;</span> <span class="op">&amp;</span><span class="st"> </span>df_<span class="dv">2018</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&quot;Queens&quot;</span>, ]</span>
<span id="cb18-6"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-6"></a></span>
<span id="cb18-7"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-7"></a>qn_outer_<span class="dv">2018</span>_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> qn_outer_<span class="dv">2018</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb18-8"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-8"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1500</span>))<span class="op">+</span></span>
<span id="cb18-9"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-9"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2018 NYC Citi Bike Trips from Queens to outers &quot;</span>, </span>
<span id="cb18-10"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-10"></a>          <span class="st">&quot;Based on Citi Bike system data,  2018-06-01 to 2018-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb18-11"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-11"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot; &quot;</span>)<span class="op">+</span></span>
<span id="cb18-12"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-12"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb18-13"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-13"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>))</span>
<span id="cb18-14"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-14"></a></span>
<span id="cb18-15"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-15"></a><span class="co">###2019</span></span>
<span id="cb18-16"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-16"></a></span>
<span id="cb18-17"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-17"></a>qn_outer_<span class="dv">2019</span> =df_<span class="dv">2019</span>[df_<span class="dv">2019</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Queens&quot;</span> <span class="op">&amp;</span>df_<span class="dv">2019</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&#39;Queens&#39;</span>, ]</span>
<span id="cb18-18"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-18"></a></span>
<span id="cb18-19"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-19"></a>qn_outer_<span class="dv">2019</span>_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> qn_outer_<span class="dv">2019</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb18-20"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-20"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1500</span>))<span class="op">+</span></span>
<span id="cb18-21"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-21"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2019 NYC Citi Bike Trips from Queens to outers &quot;</span>, </span>
<span id="cb18-22"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-22"></a>          <span class="st">&quot;Based on Citi Bike system data,  2019-06-01 to 2019-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb18-23"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-23"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot;Average Hourly Citi Bike trips&quot;</span>)<span class="op">+</span></span>
<span id="cb18-24"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-24"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb18-25"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-25"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>),</span>
<span id="cb18-26"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-26"></a>        <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">9</span>))</span>
<span id="cb18-27"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-27"></a></span>
<span id="cb18-28"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-28"></a></span>
<span id="cb18-29"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-29"></a>qn_outer_<span class="dv">2020</span> &lt;-<span class="st"> </span>df_<span class="dv">2020</span>[df_<span class="dv">2020</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Queens&quot;</span><span class="op">&amp;</span>df_<span class="dv">2020</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&#39;Queens&#39;</span>, ]</span>
<span id="cb18-30"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-30"></a></span>
<span id="cb18-31"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-31"></a>qn_outer_<span class="dv">2020</span> &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(qn_outer_<span class="dv">2020</span>)</span>
<span id="cb18-32"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-32"></a></span>
<span id="cb18-33"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-33"></a>qn_outer_<span class="dv">2020</span>_plot &lt;-<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> qn_outer_<span class="dv">2020</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb18-34"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-34"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1500</span>))<span class="op">+</span></span>
<span id="cb18-35"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-35"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2020 NYC Citi Bike Trips from Queens to outers &quot;</span>, </span>
<span id="cb18-36"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-36"></a>          <span class="st">&quot;Based on Citi Bike system data,  2020-06-01 to 2020-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb18-37"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-37"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot; &quot;</span>)<span class="op">+</span></span>
<span id="cb18-38"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-38"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb18-39"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb18-39"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>))</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Queens to Outer
Very few people take Citi bikes in Queens since there are fewer bike stations in Queens. It still worths us to take a look on riders’ pattern.
In the morning rush hours, there are around 700 riders take bikes as their way to Manhattan and 200 riders to Brooklyn for both 2018 and 2019. Things change a little bit in 2020, there are around 1000 riders take bikes to Manhattan, 400 riders to Brooklyn. Rider numbers almost doubled in 2020. It has the similar pattern as people live in Manhattan and go to Queens or Brooklyn in the morning. Due to pandemic and social distance advocate, people in New York city tend to ride more bikes than usual to avoid taking subways or buses in the morning rush hours.</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb19-1"></a><span class="co">###Queens to Outers</span></span>
<span id="cb19-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb19-2"></a></span>
<span id="cb19-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb19-3"></a><span class="kw">ggarrange</span>(qn_outer_<span class="dv">2018</span>_plot, qn_outer_<span class="dv">2019</span>_plot, qn_outer_<span class="dv">2020</span>_plot, </span>
<span id="cb19-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb19-4"></a>          <span class="dt">label.y =</span> <span class="dv">1</span>,</span>
<span id="cb19-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb19-5"></a>          <span class="dt">align=</span><span class="st">&#39;hv&#39;</span>,</span>
<span id="cb19-6"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb19-6"></a>          <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-29-1.png" width="864" /></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-1"></a><span class="co">##Brooklyn to outers</span></span>
<span id="cb20-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-2"></a></span>
<span id="cb20-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-3"></a>bk_outer_<span class="dv">2018</span> =df_<span class="dv">2018</span>[df_<span class="dv">2018</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Brooklyn&quot;</span> <span class="op">&amp;</span><span class="st"> </span>df_<span class="dv">2018</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&quot;Brooklyn&quot;</span>, ]</span>
<span id="cb20-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-4"></a></span>
<span id="cb20-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-5"></a>bk_outer_<span class="dv">2018</span>_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> bk_outer_<span class="dv">2018</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb20-6"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-6"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb20-7"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-7"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2018 NYC Citi Bike Trips from Brooklyn to outers &quot;</span>, </span>
<span id="cb20-8"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-8"></a>          <span class="st">&quot;Based on Citi Bike system data,  2018-06-01 to 2018-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb20-9"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-9"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot; &quot;</span>)<span class="op">+</span></span>
<span id="cb20-10"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-10"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb20-11"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-11"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>))</span>
<span id="cb20-12"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-12"></a></span>
<span id="cb20-13"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-13"></a>bk_outer_<span class="dv">2019</span> =df_<span class="dv">2019</span>[df_<span class="dv">2019</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Brooklyn&quot;</span> <span class="op">&amp;</span>df_<span class="dv">2019</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&#39;Brooklyn&#39;</span>, ]</span>
<span id="cb20-14"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-14"></a></span>
<span id="cb20-15"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-15"></a>bk_outer_<span class="dv">2019</span>_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> bk_outer_<span class="dv">2019</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb20-16"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-16"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">6000</span>))<span class="op">+</span></span>
<span id="cb20-17"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-17"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2019 NYC Citi Bike Trips from Brooklyn to outers &quot;</span>, </span>
<span id="cb20-18"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-18"></a>          <span class="st">&quot;Based on Citi Bike system data,  2019-06-01 to 2019-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb20-19"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-19"></a><span class="st"> </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot;Average Hourly Citi Bike trips&quot;</span>)<span class="op">+</span></span>
<span id="cb20-20"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-20"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb20-21"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-21"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>),</span>
<span id="cb20-22"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-22"></a>        <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">9</span>))</span>
<span id="cb20-23"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-23"></a></span>
<span id="cb20-24"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-24"></a>bk_outer_<span class="dv">2020</span> =df_<span class="dv">2020</span>[df_<span class="dv">2020</span><span class="op">$</span>start_borough<span class="op">==</span><span class="st">&quot;Brooklyn&quot;</span><span class="op">&amp;</span>df_<span class="dv">2020</span><span class="op">$</span>end_borough<span class="op">!=</span><span class="st">&#39;Brooklyn&#39;</span>, ]</span>
<span id="cb20-25"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-25"></a></span>
<span id="cb20-26"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-26"></a>bk_outer_<span class="dv">2020</span> &lt;-<span class="kw">as.data.frame</span>(bk_outer_<span class="dv">2020</span>)</span>
<span id="cb20-27"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-27"></a></span>
<span id="cb20-28"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-28"></a>bk_outer_<span class="dv">2020</span>_plot &lt;-<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> bk_outer_<span class="dv">2020</span>, <span class="kw">aes</span>(<span class="dt">x=</span>hour,<span class="dt">y =</span>total_num_trips, <span class="dt">color =</span>route))<span class="op">+</span></span>
<span id="cb20-29"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-29"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="kw">geom_line</span>() <span class="op">+</span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">6000</span>))<span class="op">+</span></span>
<span id="cb20-30"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-30"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;2020 NYC Citi Bike Trips from Brooklyn to outers &quot;</span>, </span>
<span id="cb20-31"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-31"></a>          <span class="st">&quot;Based on Citi Bike system data,  2020-06-01 to 2020-06-30&quot;</span>) <span class="op">+</span></span>
<span id="cb20-32"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-32"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span><span class="st">&quot;Trip Hours&quot;</span>, <span class="dt">y =</span><span class="st">&quot; &quot;</span>)<span class="op">+</span></span>
<span id="cb20-33"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-33"></a><span class="st">  </span><span class="kw">theme_grey</span>(<span class="dv">10</span>)<span class="op">+</span></span>
<span id="cb20-34"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb20-34"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&#39;bold&#39;</span>, <span class="dt">color =</span><span class="st">&#39;steelblue2&#39;</span>))</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Brooklyn to Outers
Brooklyn has a different story compare with their peers in Manhattan and Queens. In 2018 and 2019, more people take bikes to go to other counties with average 6500 trips in the morning rush hours, it dropped to 3000 trips in 2020. I performed a deeper analysis on Brooklyn residents. Most of those trips between Brooklyn bridge and lower Manhattan, since a lot of financial companies are taking strict work from home policy. It explains why riders reduce so many between Brooklyn and Manhattan but not many changes between Brooklyn and Queens.</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb21-1"></a><span class="co">###Brooklyn to Outers</span></span>
<span id="cb21-2"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb21-2"></a><span class="kw">ggarrange</span>(bk_outer_<span class="dv">2018</span>_plot, bk_outer_<span class="dv">2019</span>_plot, bk_outer_<span class="dv">2020</span>_plot, </span>
<span id="cb21-3"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb21-3"></a>          <span class="dt">label.y =</span> <span class="dv">1</span>,</span>
<span id="cb21-4"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb21-4"></a>          <span class="dt">align=</span><span class="st">&#39;hv&#39;</span>,</span>
<span id="cb21-5"><a href="bike-users-route-patternhow-people-use-it-as-the-commute-tool.html#cb21-5"></a>          <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-31-1.png" width="864" /></p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="temerature-affects-on-the-bike-usage.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="place-a-holder-for-5-7.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ds-eda-viz/NYC-Bike-Share/edit/main/05-results.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ds-eda-viz/NYC-Bike-Share/blob/main/05-results.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
